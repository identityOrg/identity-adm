<mat-card>
  <mat-card-header>
    <mat-card-title>
      <span>Edit user "<b>{{user.username}}</b>"</span>
    </mat-card-title>
    <mat-card-subtitle *ngIf="user.admin">Admin User</mat-card-subtitle>
    <mat-card-subtitle *ngIf="!user.admin">General User</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <mat-accordion>
      <mat-expansion-panel expanded="true">
        <mat-expansion-panel-header>
          <mat-panel-title>
            General Information
          </mat-panel-title>
        </mat-expansion-panel-header>
        <app-dynamic-edit [formGroup]="formGroup" *ngFor="let ctrl of controls" [editControl]="ctrl"></app-dynamic-edit>
      </mat-expansion-panel>
    </mat-accordion>
  </mat-card-content>
  <mat-card-actions>
    <button mat-icon-button color="warn" [routerLink]="['/user', 'detail', user.username]">
      <mat-icon>cancel</mat-icon>
    </button>
    <button mat-icon-button color="accent" (click)="resetUser()">
      <mat-icon>refresh</mat-icon>
    </button>
    <button mat-icon-button color="primary" (click)="save()">
      <mat-icon>save</mat-icon>
    </button>
    <button mat-icon-button color="warn" *ngIf="user.active" (click)="lockUser()">
      <mat-icon>lock</mat-icon>
    </button>
    <button mat-icon-button color="primary" *ngIf="!user.active" (click)="enableUser()">
      <mat-icon>lock_open</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
{{formGroup.value|json}}
